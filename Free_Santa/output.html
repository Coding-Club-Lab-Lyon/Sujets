<html><head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="src/report.css">
    <link rel="stylesheet" href="src/code.css">
    <style>
        @page {
            margin-top: 2.5cm;

            @top-left {
                background: #4c5270;
                color: white;
                content: counter(page);
                height: 1cm;
                text-align: center;
                width: 1cm;
                margin-bottom: 0.6cm;
            }

            @top-center {
                background: #4c5270;
                content: '';
                display: block;
                height: .05cm;
                opacity: .5;
                width: 100%;
                margin-bottom: 0.6cm;
            }

            @top-right {
                content: string(heading);
                font-size: 9pt;
                height: 1cm;
                vertical-align: middle;
                width: 100%;
                margin-bottom: 0.6cm;
            }
        }
    </style>
<style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -5px 0 0 0; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style></head>

<body><div id="MathJax_Message" style="display: none;"></div>
    <h2>﻿<strong>Free Santa</strong></h2>
<p><img alt="" src="Aspose.Words.96d1b9de-23bb-4387-a86a-8a11835b326e.002.png"></p>
<p><pagebreak></pagebreak></p>
<h2>INTRODUCTION</h2>
<hr>
<p>Le Père Noël part comme tous les ans faire sa tournée, quand soudain un grapin s’accroche à son précieux traîneau alors qu’il survole une île nordique.  Trainé au sol, il se retrouve rapidement en tête à tête avec le parrain de la pègre locale tandis que son véhicule est confisqué. Il n’a plus qu’une solution pour pouvoir reprendre sa tournée : aider ses ravisseurs à résoudre des énigmes et sortir de ce labyrinthe infernal afin d’avoir  eux  aussi  un  Noël agréable !  Pour cela nous allons créer grâce à python et pygame un jeu  de labyrinthe qui va permettre au père noël d'être libéré.  pygame  est  une  librairie  assez  basique  mais qui  est  très  simple  à  prendre  en main. De plus elle est très bien documentée et il y a beaucoup de tutoriels  sur  internet.  <a href="https://www.pygame.org/docs/">Vous  avez  ici  le  lien  vers  la  documentation  de  la  librairie  :  https:// www.pygame.org/docs/.</a></p>
<p><pagebreak></pagebreak></p>
<h2>INSTALLATION</h2>
<hr>
<p>Pour pouvoir faire ce projet nous avons deux solutions possibles:</p>
<ul>
<li>Installer python et pygame sur votre machine</li>
<li>Utiliser un environnement de développement en ligne</li>
</ul>
<p>Si vous voulez faire le premier  choix, libre à vous et on vous aidera à l’installer mais pour des raisons de simplicité nous allons utiliser un environnement de développement en ligne. Pour cela il vous suffit de vous rendre sur <a href="https://repl.it/languages/pygame">https://repl.it/languages/pygame</a> et de vous créer un compte. Une fois que vous avez créé votre compte  vous pouvez  créer un nouveau  projet et vous aurez un environnement de développement python en ligne. Vous pouvez maintenant commencer à coder.</p>
<h2>LE CODE</h2>
<h3><strong>I. Explication du code</strong></h3>
<hr>
<p>Une fois que vous avez créé votre projet, vous devez être sur une interface avec un fichier main.py contenant du code ressemblant à ceci:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">pygame</span><span class="o">,</span> <span class="nn">sys</span>

<span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span> <span class="c1"># Initialise pygame</span>
<span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
<span class="c1"># Définir les dimensions de la fenètre (largeur, hauteur)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s1">'Hello World!'</span><span class="p">)</span> <span class="c1"># Définir le titre de la fenètre </span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span> 
            <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</code></pre></div>

<p><code>import pygame, sys</code></p>
<p>Cette ligne permet d’importer les librairies dont on aura besoin. La librairie pygame permet de faire des jeux en python et la librairie sys permet de faire des opérations sur le système.</p>
<p>Vous avez ensuite la boucle de jeu:</p>
<div class="codehilite"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span> <span class="c1"># Ajoutez cette ligne </span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span> 
        <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</code></pre></div>

<blockquote class="info">
<p>  <strong>Initialisation:</strong> la clock n'est pas initialiser ici. Il faut donc l'initialiser avant la boucle </p>
</blockquote>
<p>La boucle while True permet d’éxécuter notre code sans s’arrêter. Les 4 lignes suivantes:</p>
<div class="codehilite"><pre><span></span><code><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div>

<p>Servent à détecter un évenement, dans ce cas on détecte si on quitte la fenètre</p>
<p>Nous avons au final une ligne permettant de mettre à jour l’affichage de notre fenêtre:
<code>pygame.display.update()</code></p>
<h3>II. Afficher notre labyrinthe</h3>
<hr>
<p>Nous voulons créer un labyrinthe, la première étape est donc de le créer. Pour ceci on va créer un nouveau fichier du nom de <strong>map.txt</strong> et on va définir la map qu'on veut.
Exemple:</p>
<div class="codehilite"><pre><span></span><code>WWWWWWWWWWWWWWWWWWWW 
W                  W
W         WWWWWW   W
W    WWWW      W   W
W    W        WWWW W
W  WWW  WWWW       W
W  W W     W       W
W  W       W  WWW WW
W  WWW WWW W W     W
W    W  W    W W   W
WWW  W  WWWWW  W   W
W W    WW          W
W W WWWW    WWW    W
W   W    E    W    W
WWWWWWWWWWWWWWWWWWWW
</code></pre></div>

<p>Dans notre cas, les W représentent les murs et le E notre fin.
Nous avons besoin  de stocker plusieurs informations  pour notre  labyrinthe, notamment toutes les informations relative aux murs ainsi que l’information relative à la fin de notre niveau. Un simple tableau sera nécessaire à l’initialisation de notre programme:</p>
<div class="codehilite"><pre><span></span><code>    <span class="n">walls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">end_rect</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># On mets None pour definir qu'il n'y a pas de fin</span>
</code></pre></div>

<p>Nos murs seront des classes, une classe est une façon de représenter un objet du monde réel. Par exemple dans notre cas la classe Wall (mur en anglais) permettra de stocker la position, la taille de notre mur et le rectangle le représentant. Au final voici à quoi ressemble notre classe:</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
            <span class="n">walls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="c1">#ajoute à notre liste 'walls' le mur créer à l'instant</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
</code></pre></div>

<p>Il est important de définir notre classe au début de notre programme
Ensuite il faut récupérer la map contenue dans le fichier <code>map.txt</code> et la stocker, pour cela:</p>
<div class="codehilite"><pre><span></span><code>    <span class="nb">map</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"map.txt"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> 
    <span class="c1"># ouvre le fichier 'map.txt' en permettant seulement de lire son contenu</span>
    <span class="n">level</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="c1"># permet de copier chaque ligne du fichier et les stocker dans une liste</span>
</code></pre></div>

<p>Une fois que nous avons notre level ainsi que le stockage de notre map contenant les murs, nous pouvons tous les créer lors de l’initialisation du programme</p>
<div class="codehilite"><pre><span></span><code>    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">level</span><span class="p">:</span> <span class="c1"># Pour chaque ligne dans notre niveau</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span> <span class="c1"># Pour chaque colonne (lettre) dans notre ligne</span>
            <span class="k">if</span> <span class="n">col</span> <span class="o">==</span> <span class="s2">"W"</span><span class="p">:</span> <span class="c1"># Si la lettre est un W</span>
                <span class="n">Wall</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span> <span class="c1"># Alors on creer un mur aux coordonnees (x, y)</span>
            <span class="k">if</span> <span class="n">col</span> <span class="o">==</span> <span class="s2">"E"</span> <span class="p">:</span> <span class="c1"># Si la lettre est un E</span>
                <span class="c1"># Alors on creer le rectange definissant la fin de notre level</span>
                <span class="n">end_rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">+=</span> <span class="mi">32</span> <span class="c1"># On ajoute 32 a x (la largeur d  un rectangle)</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">32</span> <span class="c1"># On ajoute 32 a y (la hauteur)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># On remet x a 0 pour recommencer au debut de notre ligne</span>
</code></pre></div>

<p>Maintenant que nous avons créer tout nos murs nous devons les afficher, est ce que vous vous souvenez de la ligne suivante ?
<code>pygame.display.update()</code>
Et bien modifiez le code pour qu’il ressemble à ça:</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">for</span>  <span class="n">wall</span>  <span class="ow">in</span>  <span class="n">walls</span>  <span class="p">:</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">wall</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
    <span class="c1"># pygame.draw.rect(screen, (255, 0, 0), end_rect)</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</code></pre></div>

<p><pagebreak></pagebreak></p>
<h3>III. Creation de notre personnage</h3>
<hr>
<p>Comme nous avons fait pour nos murs, créons une classe représentant notre Player:</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">class</span> <span class="nc">Player</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># On creer le rectangle de collision </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> 
        <span class="c1"># On creer un sprite </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span> <span class="s2">"res/santa\_top.png"</span> <span class="p">)</span> 
        <span class="c1"># On change ses dimensions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="p">,</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span> 

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span> <span class="c1"># On affiche le sprite</span>
</code></pre></div>

<p>Notre classe Player  va se charger de toute la création du joueur ainsi que de son affichage.
Maintenant  que nous avons la définition de notre  classe il nous reste  plus qu’à créer notre  player lors de l’initialisation.</p>
<p><code>player = Player()</code></p>
<p>Comme  on peux le voir, le player utilise une image stockée dans le dossier res  et qui s’appelle <strong>santa_top.png</strong>. Ce  sont des images qui vous sont données  par les encadrants,  il faut juste les importer et les stocker dans un dossier appelé res  .</p>
<p>Une fois que notre Player est créé, on peux simplement  l’afficher grâce à la ligne player.draw(screen).  Modifiez le programme pour qu’il ressemble à ça:</p>
<div class="codehilite"><pre><span></span><code>    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</code></pre></div>

<h3>IV. Faire bouger notre personnage</h3>
<hr>
<p>On a besoin que notre personnage bouge,pour ce faire nous allons lui créer une fonction move,il faut savoir que draw est aussi une fonction de notre player, il faut donc rajouter le code suivant dans la classe Player</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">dx</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">move_single_axis</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> 
        <span class="k">if</span> <span class="n">dy</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">move_single_axis</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">move_single_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
    <span class="c1"># Move the rect</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span>
    <span class="c1"># If you collide with a wall, move out based on velocity </span>
    <span class="k">for</span> <span class="n">wall</span> <span class="ow">in</span> <span class="n">walls</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">wall</span><span class="o">.</span><span class="n">rect</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">dx</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># Moving right; Hit the left side of the wall</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">wall</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span>

            <span class="sd">'''A VOUS DE COMPLETEZ POUR LES AUTRES DIRECTIONS'''</span>
</code></pre></div>

<blockquote class="info">
<p>  <strong>CODE:</strong> A VOUS DE COMPLETEZ POUR LES AUTRES DIRECTIONS !</p>
</blockquote>
<p>Le code  que vous voyez ci-dessus  permet  de vérifier si dans  la direction où nous  allons il y a un mur, si jamais il y en a un, on ne bouge pas dans cette direction.
Après avoir créé notre fonction  move il faut l’appeler, pour ceci on a juste à modifier le code pour qu’il ressemble à ça:</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
            <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="c1"># Move the player if an arrowkey is pressed</span>
    <span class="sd">'''A COMPLETER'''</span>
</code></pre></div>

<blockquote class="info">
<p>  <strong>CODE:</strong> Compléter les mouvements du joueur
A l'aide de <a href="https://www.pygame.org/docs/ref/key.html#pygame.key.get_pressed">la doc pygame</a>, faites déplacer le joueur en appuyant sur les touches directionnelles</p>
</blockquote>
<h3>V. Animer notre personnage</h3>
<hr>
<p>Nous voulons animer notre personnage pour qu’il change de sprite en fonction de la direction dans laquelle il se déplace, pour ce faire nous allons créer une fonction  <code>change_animation</code>  qui va prendre  comme  paramètre la direction dans laquelle le joueur se déplace.</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">def</span> <span class="nf">change_animation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">"res/santa_"</span> <span class="o">+</span> <span class="nb">dir</span> <span class="o">+</span> <span class="s2">".png"</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">sprite</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sprite</span><span class="p">,</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</code></pre></div>

<p>Cette fonction nous allons l’appeler dans la fonction move_single_axis grâce au code suivant:</p>
<div class="codehilite"><pre><span></span><code>    <span class="n">new_sprite</span> <span class="o">=</span> <span class="s2">"left"</span>
    <span class="k">if</span> <span class="n">dx</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">new_sprite</span> <span class="o">=</span> <span class="s2">"right"</span>
    <span class="k">elif</span> <span class="n">dx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">new_sprite</span> <span class="o">=</span> <span class="s2">"left"</span>
    <span class="k">elif</span> <span class="n">dy</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">new_sprite</span> <span class="o">=</span> <span class="s2">"bottom"</span>
    <span class="k">elif</span> <span class="n">dy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">new_sprite</span> <span class="o">=</span> <span class="s2">"top"</span>                 
    <span class="bp">self</span><span class="o">.</span><span class="n">change_animation</span><span class="p">(</span><span class="n">new_sprite</span><span class="p">)</span>
</code></pre></div>

<h3>VI. Fin du jeu</h3>
<hr>
<p>Maintenant que nous avons tout ce qu’il faut pour faire bouger notre personnage, il nous faut créer la fin du jeu, pour ce faire nous allons ajouter du code dans la boucle de jeu pour vérifier que le joueur est sur la case de fin.</p>
<div class="codehilite"><pre><span></span><code>    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">colliderect</span><span class="p">(</span><span class="n">end_rect</span><span class="p">):</span>
        <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div>

<p><pagebreak></pagebreak></p>
<h3>Fin ?</h3>
<hr>
<p>Et voila, vous avez fini le tutoriel, vous pouvez maintenant vous amuser à créer des niveaux et à les partager avec vos amis. Voici une liste de bonus que vous pouvez faire si vous avez le temps:</p>
<ul>
<li>Créer un menu</li>
<li>Créer un écran de victoire</li>
<li>Créer un écran de défaite</li>
<li>Créer un écran de pause</li>
<li>Créer un écran de sélection de niveau</li>
<li>Créer un écran de création de niveau</li>
<li>Créer un écran de paramètres</li>
<li>Et plein d’autres choses encore</li>
</ul>

    <script type="text/x-mathjax-config;executed=true">
        MathJax.Hub.Config({
      messageStyle: "none",
      extensions: ["tex2jax.js"],
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        fonts: ["TeX"],
        scale: 85,
      }
    });
  </script>
    <script src="src/MathJax.js"></script>


</body></html>