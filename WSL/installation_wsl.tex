\documentclass[a4paper, 12pt]{article}

\usepackage{/template/configs/base}


\begin{document}

\Init{Installation de WSL}{Linux à l'intérieur de Windows}{280621}{1.0}
\InitInfo{}{}{}{}{30 minutes}

\Hypersetup

\Cover
\Intro{
    
    {\comfortaa
        Le développement informatique est une magnifique aventure dans laquelle on apprend sans cesse.
        De plus, il est possible de s'y lancer depuis n'importe où, depuis n'importe quel Système d'exploitation (Windows, Linux, Mac, la calculette du lycée etc...).
        \newline \newline
        Mais tu te poses sûrement une question intéressante à te poser : Sur lequel est-il plus simple de se lancer ?
        \newline \newline

        A cette question, nous allons te répondre Linux car il a été pensé pour \newline
        le développement et car étant Open Source il est
        très réguilèrement mis à jour et te laisse un grand nombre fonctionalités, là où Windows et Mac étants
        propriétaires te limiteront.
        \newline \newline
        Ceci dit Linux peut présenter quelques inconvénients lorsque que son utilisation ne se limite pas qu'au développement informatique.
        Tu pourras difficilement voire pas utiliser les logiciels uniquement disponibles sur Windows par exemple.

        \ImageCenter{office.png}{100}

        A moins que tu n'utilises \textbf{Windows Substem for Linux}
        \newline \newline \newline
        Nous n'allons pas t'expliquer dans les détails ce que c'est, de toute façon \href{https://fr.wikipedia.org/wiki/Windows_Subsystem_for_Linux}{Wikipédia}
        le fait mieux que nous.
        Dans les grandes lignes, WSL te permet d'avoir Linux qui tourne sur Windows.
        Pour les connaisseurs, ça fonctionne presque comme une Virtual Machine à la différence près que
        WSL est natif à Windows ce qui fait qu'il fonctionnera mieux que les autres machines virtuelles.
        \newline \newline

        Voyons ensemble comment l'installer !
    }
    
}

\section{Installer WSL}

{\comfortaa

    \subsection{Mettre à jour son PC}

    Avant de commencer il faut s'assurer que ton PC soit déjà à jour.
    Pour vérifier cela, il faut se rendre dans les paramètres Windows et aller
    à l'onglet Windows Update pour y faire une recherche des mise à jour.
    \newline \newline

    \ImageCenter{winupdate.jpg}{300}

    Si ton PC a manqué des mises à jours majeures il se peut que la recherche et que la
    mise à jour prenne du temps.
    \newline \newline

    \Hint{Pense à réguilèrement mettre à jour ton PC}
    
    \subsection{Activer WSL et l'installer}

    Maintenant, il va falloir ouvrir un interpreteur de commandes. Sur Windows il y en a 2 : cmd et Powershell.
    \ImageCenter{PowerShell.png}{50}
    Aujourd'hui nous utiliserons Powershell car il est plus simple d'utilisation et car il partage plusieurs commandes et alias
    communs avec l'interpreteur de commande de Linux.
    \newline
    \Hint{A partir de maintenant on parlera de "shell" à la place d'interpreteur de commandes}

    \vspace{1cm}
    Exécute Powershell avec les droits Administrateurs, depuis la barre de recherche du Menu Démarrer.
    \newline
    Une fois que c'est fait une fenêtre de ce genre est censée s'ouvrir
    \ImageCenter{psopen.jpg}{200}

    Il faut savoir que WSL fonctionne à l'aide 2 fonctionalités au sein de Windows :
    \begin{itemize}
    \item Microsoft Windows Subsystem Linux
    \item Virtual Machine Platform
    \end{itemize}
    \vspace{1cm}
    Néanmoins, WSL n'étant pas un service
    très utilisé par le grand public, ces fonctionalités sont désactivées de base.
    \newline
    Nous allons devoir les réactiver nous même.
    
    \Terminal{
        dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
    }
    \Terminal{
        dism.exe /online /enable-feature   /featurename:VirtualMachinePlatform \newline /all /norestart
    }
    \Terminal{
        Enable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform -NoRestart
    }

    \Hint{L'option /norestart empêche le rédémarrage de force afin qu'on le fasse nous même}
    \vspace{1cm}

    Une fois les commandes exécutées, on va avoir besoin de redémarrer le PC afin que Windows
    procède à une mise à jour qui lui permettra de rendre opérationnel ces fonctionalités maintenant activées
    \newline

    Dès que le PC est redemarré, il faut vérifier que tout se soit bien installé.
    On va donc à nouveau ouvrir PowerShell en administrateur et faire :
    \vspace{0.5cm}
    \Terminal{
        wsl -l
    }
    \vspace{0.5cm}
    
    S'il n'y a pas d'erreur alors c'est que tout s'est passé comme prévu.
    En revanche, il se peut que tu ai message te disant que tu n'as pas de distribution
    mais on va régler ça dans quelques instants.
    \vspace{5cm}

    \subsection{Installer une distribution Linux}
    
    Nous avons installer le noyau Linux, il faut maintenant installer la distribution de notre choix.
    Plusieurs distributions existent avec leurs logiciels et configurations propres.

    \ImageCenter{ubuntu.png}{50}

    Celui que nous vous proposons d'installer est Ubuntu. Il s'agit d'une distribution
    très populaire, complète et facile à prendre en main.

    \Hint{Bien évidemment libre à vous d'en installer un voire plusieurs autres}

    Maintenant nous allons nous rendre sur le Microsoft Store et taper Ubuntu.
    Nous installerons le premier choix proposé.

    \ImageCenter{ubuntums.jpg}{200}

    Une fois l'installation terminée il nous reste plus qu'à lancer Ubuntu depuis le Menu Démarrer
    et laisser le temps à Ubuntu de s'activer.
    \newline
    Une fois que ce sera fait, tu pourras alors enfin utiliser Linux !
    \vspace{2cm}

    \subsection{Installer Windows Terminal} 

    Bien que l'on puisse déjà utiliser Linux via la Distribution que l'on vient d'installer
    il peut être préférable dans certains cas de travailler sur un Terminal multi-tâche.

    \ImageCenter{winterminal.jpg}{50}

    C'est pourquoi nous vous proposons d'installer Windows Terminal, qui est l'un des plus recommandés
    dans ce domaine pour WSL. Il est téléchargeable directement depuis le Microsoft Store lui aussi.
    \newline \newline
    Une fois, ouvert on va pouvoir choisir quel Shell on souhaite utiliser en cliquant sur la flèche
    vers le bas

    \ImageCenter{wintermgosettings.jpg}{150}

    \vspace{1cm}
    Et en allant dans les paramètres on va pouvoir changer le profil par défaut afin de la remplacer
    par Ubuntu (ou la distribution de votre choix)
    
    \ImageCenter{winterminsettings.jpg}{150}

    \vspace{2cm}
}

\section{Passer à WSL 2}

{\comfortaa
    Il existe une version 2.0 de WSL. Cette nouvelle version apporte une grande
    amélioration en terme de compatibilité et de gestion de services.
    Il se peut que cela ne te parle pas et ce n'est pas bien grave car WSL 1 fonctionne très bien
    aussi.
    \newline \newline
    Mais si jamais tu souhaites installer la version 2.0 alors on va commencer par
    ouvrir PowerShell en administrateur et vérifier à quelles versions sont \newline
    nos distributions :

    \Terminal{
        wsl.exe -l -v
    }
    \vspace{0.5cm}

    Si la version de ta distribution est encore à 1 on va la faire passer à la 2 :

    \Terminal{
        wsl.exe --set-version Ubuntu 2
    }

    \Hint{Si tu as une distribution différente d'Ubuntu remplace "Ubuntu" par le nom de ta distribution}

}


\end{document}